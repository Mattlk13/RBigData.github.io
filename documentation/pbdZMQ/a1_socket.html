<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Socket Functions</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for Socket Functions {pbdZMQ}"><tr><td>Socket Functions {pbdZMQ}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Socket Functions</h2>

<h3>Description</h3>

<p>Socket functions
</p>


<h3>Usage</h3>

<pre>
zmq.socket(ctx, type = .pbd_env$ZMQ.ST$REP)

zmq.close(socket)

zmq.bind(socket, endpoint, MC = .pbd_env$ZMQ.MC)

zmq.connect(socket, endpoint, MC = .pbd_env$ZMQ.MC)

zmq.disconnect(socket, endpoint, MC = .pbd_env$ZMQ.MC)

zmq.setsockopt(socket, option.name, option.value, MC = .pbd_env$ZMQ.MC)

zmq.getsockopt(socket, option.name, option.value, MC = .pbd_env$ZMQ.MC)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>ctx</code></td>
<td>
<p>a ZMQ context</p>
</td></tr>
<tr valign="top"><td><code>type</code></td>
<td>
<p>a socket type</p>
</td></tr>
<tr valign="top"><td><code>socket</code></td>
<td>
<p>a ZMQ socket</p>
</td></tr>
<tr valign="top"><td><code>endpoint</code></td>
<td>
<p>a ZMQ socket endpoint</p>
</td></tr>
<tr valign="top"><td><code>MC</code></td>
<td>
<p>a message control, see <code><a href="zz_zmq_control.html">ZMQ.MC</a>()</code> for details</p>
</td></tr>
<tr valign="top"><td><code>option.name</code></td>
<td>
<p>an option name to the socket</p>
</td></tr>
<tr valign="top"><td><code>option.value</code></td>
<td>
<p>an option value to the option name</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>zmq.socket()</code> initials a ZMQ socket given a ZMQ context <code>ctx</code> and
a socket <code>type</code>. See <code><a href="zz_zmq_control.html">ZMQ.ST</a>()</code> for the possible values of
<code>type</code>. ZMQ defines several patterns for the socket type and utilize
them to communicate in different ways including request-reply,
publish-subscribe, pipeline, exclusive pair, and naive patterns.
</p>
<p><code>zmq.close()</code> destroys the ZMQ socket.
</p>
<p><code>zmq.bind()</code> binds the socket to a local endpoint and then accepts
incoming connections on that endpoint. See <code>endpoint</code> next for details.
</p>
<p><code>zmq.connect()</code> connects the socket to a remote endpoint and then
accepts outgoing connections on that endpoint. See <code>endpoint</code> next for
details.
</p>
<p><code>endpoint</code> is a string consisting of a transport :// followed by an
address. The transport specifies the underlying protocol to use. The address
specifies the transport-specific address to bind to.  pbdZMQ/ZMQ provides
the following transports: </p>

<table summary="Rd table">
<tr>
 <td style="text-align: left;"> Transport </td><td style="text-align: left;"> Usage </td>
</tr>
<tr>
 <td style="text-align: left;"> <code>tcp</code>
</td><td style="text-align: left;"> unicast transport using TCP </td>
</tr>
<tr>
 <td style="text-align: left;"> <code>ipc</code> </td><td style="text-align: left;"> local inter-process
communication transport </td>
</tr>
<tr>
 <td style="text-align: left;"> <code>inproc</code> </td><td style="text-align: left;"> local in-process
(inter-thread) communication transport </td>
</tr>
<tr>
 <td style="text-align: left;"> <code>pgm,epgm</code> </td><td style="text-align: left;"> reliable
multicast transport using PGM </td>
</tr>

</table>
<p> *** warning: <code>epgm</code> is not turned on by
default in the pbdZMQ's internal ZeroMQ library. <br /> *** warning: <code>ipc</code>
is not supported in Windows system.
</p>
<p><code>zmq.setsockopt()</code> is to set/change socket options.
</p>
<p><code>zmq.getsockopt()</code> is to get socket options and returns
<code>option.value</code>.
</p>


<h3>Value</h3>

<p><code>zmq.socket()</code> returns an R external pointer (<code>socket</code>)
generated by ZMQ C API pointing to a socket if successful, otherwise returns
an R <code>NULL</code> and sets <code>errno</code> to the error value, see ZeroMQ manual
for details.
</p>
<p><code>zmq.close()</code> destroys the socket reference/pointer (<code>socket</code>) and
returns 0 if successful, otherwise returns -1 and sets <code>errno</code> to the
error value, see ZeroMQ manual for details.
</p>
<p><code>zmq.bind()</code> binds the socket to specific <code>endpoint</code> and returns 0
if successful, otherwise returns -1 and sets <code>errno</code> to the error
value, see ZeroMQ manual for details.
</p>
<p><code>zmq.connect()</code> connects the socket to specific <code>endpoint</code> and
returns 0 if successful, otherwise returns -1 and sets <code>errno</code> to the
error value, see ZeroMQ manual for details.
</p>
<p><code>zmq.setsockopt()</code> sets/changes the socket option and returns 0 if
successful, otherwise returns -1 and sets <code>errno</code> to the error value,
see ZeroMQ manual for details.
</p>
<p><code>zmq.getsockopt()</code> returns the value of socket option,
see ZeroMQ manual for details.
</p>


<h3>Author(s)</h3>

<p>Wei-Chen Chen <a href="mailto:wccsnow@gmail.com">wccsnow@gmail.com</a>.
</p>


<h3>References</h3>

<p>ZeroMQ/4.1.0 API Reference:
<a href="http://api.zeromq.org/4-1:_start">http://api.zeromq.org/4-1:_start</a>
</p>
<p>Programming with Big Data in R Website: <a href="http://r-pbd.org/">http://r-pbd.org/</a>
</p>


<h3>See Also</h3>

<p><code><a href="a0_d_context.html">zmq.ctx.new</a>()</code>, <code><a href="a0_d_context.html">zmq.ctx.destroy</a>()</code>.
</p>


<h3>Examples</h3>

<pre>
## Not run: 
### Using request-reply pattern.

### At the server, run next in background or the other windows.
library(pbdZMQ, quietly = TRUE)

context &lt;- zmq.ctx.new()
responder &lt;- zmq.socket(context, .pbd_env$ZMQ.ST$REP)
zmq.bind(responder, "tcp://*:5555")
zmq.close(responder)
zmq.ctx.destroy(context)


### At a client, run next in foreground.
library(pbdZMQ, quietly = TRUE)

context &lt;- zmq.ctx.new()
requester &lt;- zmq.socket(context, .pbd_env$ZMQ.ST$REQ)
zmq.connect(requester, "tcp://localhost:5555")
zmq.close(requester)
zmq.ctx.destroy(context)

## End(Not run)

</pre>

<hr /><div style="text-align: center;">[Package <em>pbdZMQ</em> version 0.2-2 <a href="00Index.html">Index</a>]</div>
</body></html>
